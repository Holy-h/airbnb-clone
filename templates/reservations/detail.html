{% extends "base.html" %}

{% block page_title %}
  예약 {{reservation.check_in}}
{% endblock page_title %}

{% block search-bar %}
{% endblock search-bar %}

{% block content %}
  <div class="container mx-auto mt-32 mb-10 flex flex-col">

    <div class="p-4 mb-4 border-b border-gray-300 flex justify-between items-center">
      <a href="{% url 'rooms:detail' reservation.room.pk %}" class="text-blue-500 font-medium">
        <i class="fas fa-arrow-left"></i>
        <span>숙소 보기</span>
      </a>
    </div>

    <div class="bg-cover bg-center h-56 rounded-t-lg" style="background-image: url({{reservation.room.get_first_photo}});"></div>
    
    <div class="flex flex-col items-start border-l border-r border-b">
      <div class="py-6 px-4 border-b w-full font-medium">
        <span>{{reservation.check_in}} - {{reservation.check_out}}</span>
        <span class="ml-4 font-semibold {% if reservation.status == 'pending' %} text-yellow-500 {% elif reservation.status == 'canceled' %} text-red-600 {% else %} text-teal-600 {% endif %}">{{reservation.get_status_display}}</span>
      </div>
  
      <div class="text-2xl px-4 py-6 font-medium border-b w-full">
        {{reservation.room.name}}
      </div>
  
      <div class="flex py-10 px-4 border-b w-full">
        <a href="{{reservation.room.host.get_absolute_url}}" class="flex flex-col items-center">
          {% include "mixins/user_avatar.html" with user=reservation.room.host %}
          <span class="mt-1 font-medium text-gray-500">{{reservation.room.host.first_name}}</span>
        </a>
        <div class="ml-6 flex flex-col">
          <span class="font-medium mb-2 text-lg">Contact your Bongnb Host</span>
          <a href="#" class="text-teal-500 font-semibold">Send a Message</a>
        </div>
      </div>
  
      <div class="py-10 px-4 flex flex-col">
        
        {% if reservation.status == 'pending' %}
          <a href="#" class="btn-link px-10 bg-red-500 text-base py-4">Cancel Reservation</a>
          {% if reservation.room.host == user %}
            <a href="#" class="btn-link px-10 bg-blue-500 text-base mt-4 py-4">Confirm Reservation</a>
          {% endif %}
        {% endif %}
          
      </div>
    </div>
    

  </div>

{% endblock content %}